{% extends 'core/base.html' %}
{% load static %}

{% block stylesheets %}
<link rel="stylesheet" href="{% static 'orden/css/general/form.css' %}">
{% endblock stylesheets %}

{% block content %}
<div>
    <div class="daños-trabajos-orden">
        <h1>Agregar daños y trabajos a realizar</h1>
        <form method="post">
            {% csrf_token %}
            <div id="trabajos-container">
                <div class="trabajo-row">
                    <select name="tipo-trabajo" class="tipo-trabajo">
                        <option value="">Seleccione tipo de trabajo</option>
                        <option value="Reparacion y pintura">Reparación y pintura</option>
                        <option value="Sustitucion">Sustitución</option>
                        <option value="Difuminado">Difuminado</option>
                    </select>
                    <select name="parte-vehiculo" class="parte-vehiculo">
                        <option value="">Seleccione parte del vehículo</option>
                        <option value="Guardabarros delantero derecho">Guardabarros delantero derecho</option>
                        <option value="Capot">Capot</option>
                        <option value="Paragolpes delantero">Paragolpes delantero</option>
                    </select>
                </div>
            </div>
            <button type="button" id="agregar-fila">+ Agregar más</button>
            <button type="submit">Enviar</button>
        </form>
    </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
    document.getElementById("agregar-fila").addEventListener("click", function () {
        let container = document.getElementById("trabajos-container");
        let nuevaFila = document.createElement("div");
        nuevaFila.classList.add("trabajo-row");
        nuevaFila.innerHTML = `
            <select name="tipo-trabajo" class="tipo-trabajo">
                <option value="">Seleccione tipo de trabajo</option>
                <option value="Reparacion y pintura">Reparación y pintura</option>
                <option value="Sustitucion">Sustitución</option>
                <option value="Difuminado">Difuminado</option>
            </select>
            <select name="parte-vehiculo" class="parte-vehiculo">
                <option value="">Seleccione parte del vehículo</option>
                <option value="Guardabarros delantero derecho">Guardabarros delantero derecho</option>
                <option value="Capot">Capot</option>
                <option value="Paragolpes delantero">Paragolpes delantero</option>
            </select>
        `;
        container.appendChild(nuevaFila);
    });
});
</script>

{% endblock content %}
