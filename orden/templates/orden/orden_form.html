{% extends 'core/base.html' %}
{% load static %}
{% block stylesheets %}
<link rel="stylesheet" href="{% static "orden/css/orden-form.css" %}">
{% endblock stylesheets %}

{% block content %}
<div>
    <div class="datos-orden" enctype="multipart/form-data">
        <h1>Nueva Orden</h1>
        <form method="post">
            {% csrf_token %}
            <div class="datos-cliente"> 
                <h2>Datos del cliente</h2>
                <div class="inputs">
                    <div class="input-container">
                        <label for="nombre_cliente" class="input-container-label">Nombre del cliente</label>
                        {{ form.nombre_cliente }}
                    </div>
                    <div class="input-container">
                        <label for="telefono_cliente" class="input-container-label">Telefono del cliente</label>
                        {{ form.telefono_cliente }}
                    </div>
                </div>
            </div>
            <div class="datos-vehiculo">
                <h2>Datos del vehiculo</h2>
                <div class="inputs">
                    <div class="input-container">
                        <label for="marca_vehiculo" class="input-container-label">Marca del vehiculo</label>
                        {{ form.marca_vehiculo }}
                    </div>
                    <div class="input-container">
                        <label for="modelo_vehiculo" class="input-container-label">Modelo del vehiculo</label>
                        {{ form.modelo_vehiculo }}
                    </div>
                    <div class="input-container">
                        <label for="patente_vehiculo" class="input-container-label">Patente del vehiculo</label>
                        {{ form.patente_vehiculo }}
                    </div>
                    <div class="input-container">
                        <label for="modalidad" class="input-container-label">Modalidad de cobertura</label>
                        {{ form.modalidad }}
                    </div>
                    <div class="input-container">
                        <label for="imagenes" class="input-container-label">Imagenes del vehiculo</label>
                        {{ form.imagenes }}
                    </div>
                </div>
            </div>
            <div class='trabajos-vehiculo'>
                <label for="trabajos" class="input-container-label">Daños y trabajos a realizar al vehiculo</label>
                {{form.trabajos_a_realizar}}
            </div>
            <button type="submit">Enviar</button>
        </form> 
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        document.getElementById("agregar-fila").addEventListener("click", function () {
            let container = document.getElementById("trabajos-container");
            let nuevaFila = document.createElement("div");
            nuevaFila.classList.add("trabajo-row");
            nuevaFila.innerHTML = `
                <select name="tipo-trabajo" class="tipo-trabajo">
                    <option value="">Seleccione tipo de trabajo</option>
                    <option value="Reparacion y pintura">Reparación y pintura</option>
                    <option value="Sustitucion">Sustitución</option>
                    <option value="Difuminado">Difuminado</option>
                </select>
                <select name="parte-vehiculo" class="parte-vehiculo">
                    <option value="">Seleccione parte del vehículo</option>
                    <option value="Guardabarros delantero derecho">Guardabarros delantero derecho</option>
                    <option value="Capot">Capot</option>
                    <option value="Paragolpes delantero">Paragolpes delantero</option>
                </select>
            `;
            container.appendChild(nuevaFila);
        });
    });
    </script>
{% endblock content %}